samba-container-config: v0
configs:
  default:
    globals:
      - default
    shares:
      - homeassistant-backup
      - jf
      - media
globals:
  default:
    options:
      bind interfaces only: "yes"
      clustering: "no"
      create mask: "0775"
      directory mask: "0775"
      disable spoolss: "yes"
      dns proxy: "no"
      durable handles: "yes"
      ea support: "yes"
      guest account: nobody
      host msdfs: "no"
      interfaces: net1 eth0
      load printers: "no"
      local master: "yes"
      log level: "1"
      netbios aliases: ""
      netbios name: kantai3
      ntlm auth: "no"
      # NOTE(posix locking): must be disabled for durable handles
      posix locking: "no"
      printcap name: /dev/null
      restrict anonymous: "2"
      rpc_daemon:mdssd: disabled
      rpc_server:mdssvc: disabled
      security: user
      server min protocol: SMB3_11
      server multi channel support: "yes"
      server role: standalone server
      server string: kantai3
      smb1 unix extensions: "yes"
      smb3 unix extensions: "no"
      unix charset: UTF-8
      winbind request timeout: "2"
      workgroup: "WORKGROUP"
shares:
  homeassistant-backup:
    options:
      access based share enum: "no"
      available: "yes"
      browseable: "yes"
      comment: ""
      create mask: "0660"
      directory mask: "0770"
      guest ok: "no"
      kernel oplocks: "no"
      mangled names: "no"
      path: /homeassistant-backup
      posix locking: "no"
      read only: "no"
      smbd max xattr size: "2097152"
      # NOTE: acl_xattr is not loaded because it uses security.NTACL which requires SYS_ADMIN.
      vfs objects: streams_xattr
  jf:
    options:
      access based share enum: "no"
      available: "yes"
      browseable: "yes"
      comment: ""
      create mask: "0660"
      directory mask: "0770"
      guest ok: "no"
      kernel oplocks: "no"
      mangled names: "no"
      path: /jf
      posix locking: "no"
      read only: "no"
      smbd max xattr size: "2097152"
      # NOTE: acl_xattr is not loaded because it uses security.NTACL which requires SYS_ADMIN.
      vfs objects: streams_xattr
  media:
    options:
      access based share enum: "no"
      available: "yes"
      browseable: "yes"
      comment: ""
      create mask: "0660"
      directory mask: "0770"
      guest ok: "no"
      kernel oplocks: "no"
      mangled names: "no"
      path: /media
      posix locking: "no"
      read only: "no"
      smbd max xattr size: "2097152"
      # NOTE: acl_xattr is not loaded because it uses security.NTACL which requires SYS_ADMIN.
      vfs objects: streams_xattr
