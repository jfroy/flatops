---
global:
  resolve_timeout: 5m
inhibit_rules:
  - source_matchers: ["severity = critical"]
    target_matchers: ["severity =~ warning|info"]
    equal: ["namespace", "alertname"]
  - source_matchers: ["severity = warning"]
    target_matchers: ["severity = info"]
    equal: ["namespace", "alertname"]
  - source_matchers: ["alertname = InfoInhibitor"]
    target_matchers: ["severity = info"]
    equal: ["namespace"]
  - target_matchers: ["alertname = InfoInhibitor"]
route:
  group_by: ["alertname", "job"]
  group_interval: 10m
  group_wait: 1m
  receiver: "null"
  repeat_interval: 12h
  routes:
    - receiver: "null"
      matchers: ["alertname = InfoInhibitor"]
    - receiver: heartbeat
      group_interval: 5m
      group_wait: 0s
      matchers: ["alertname = Watchdog"]
      repeat_interval: 5m
receivers:
  - name: heartbeat
    webhook_configs:
      - url: "{{ .ALERTMANAGER_HEALTHCHECKS_IO_URL }}"
  - name: "null"
